(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-871729bc"],{"14aa":function(t,a,e){},"2da5":function(t,a,e){"use strict";var i=e("14aa"),c=e.n(i);c.a},f5b5:function(t,a,e){"use strict";e.r(a);var i=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"login-container shadow"},[t._m(0),e("div",{staticClass:"body"},[e("el-form",{attrs:{model:t.formData}},[e("el-form-item",{attrs:{label:"请输入注册码"}},[e("el-input",{model:{value:t.formData.license,callback:function(a){t.$set(t.formData,"license",a)},expression:"formData.license"}})],1),e("el-form-item",{attrs:{label:"验证码"}},[e("el-input",{model:{value:t.formData.code,callback:function(a){t.$set(t.formData,"code",a)},expression:"formData.code"}})],1),e("el-form-item",[e("div",{staticClass:"identifybox"},[e("div",{on:{click:t.getCaptcha}},[e("img",{staticStyle:{width:"100px",height:"50px",border:"1px"},attrs:{src:t.formData.captcha}})]),e("el-button",{staticClass:"textbtn",attrs:{type:"text"},on:{click:t.getCaptcha}},[t._v("看不清，换一张")])],1)]),e("el-form-item",[e("el-button",{staticClass:"btn-login",attrs:{type:"primary"},on:{click:t.onSubmit}},[t._v("激活注册码")])],1)],1)],1)])},c=[function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"ali-center"},[e("img",{staticClass:"logo",attrs:{src:"/static/image/sqldev.png"}}),e("h4",[t._v("企业数据库安全访问系统")])])}],n=e("5530"),s=e("ade3"),o=e("2f62"),r={data:function(){var t=this.$route.query;return{msg:t.msg||"",formData:Object(s["a"])({license:"",captcha:"",captcha_id:"",code:"",max_user:0,level:"",max_instance:0,expire_time:0,expire:""},"code","")}},computed:Object(n["a"])({},Object(o["c"])(["user"])),methods:{getCaptcha:function(){var t=this;this.$api.get("/api/captcha").then((function(a){var e=a.id,i=a.img;t.formData.captcha=i,t.formData.captcha_id=e}))},getLicenseInfo:function(){var t=this;this.$api.get("/api/system/license").then((function(a){t.formData=a,-1==t.formData.expire_time?t.formData.expire="永久":t.formData.expire_time&&(t.formData.expire=dateTime.showTime(1e3*t.formData.expire_time))}))},goCasLogin:function(){this.url&&(window.location.href=this.url)},onSubmit:function(){var t=this;this.$api.post("/api/system/license/register",this.formData).then((function(){t.onSuccess("激活成功"),t.$router.push("/setting/license")}),(function(a){t.onError(a.data?a.data:a)}))}},mounted:function(){this.getCaptcha()}},l=r,m=(e("2da5"),e("2877")),f=Object(m["a"])(l,i,c,!1,null,null,null);a["default"]=f.exports}}]);