(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-d23de816"],{"2da5":function(t,e,a){"use strict";var i=a("7eba1"),c=a.n(i);c.a},"7eba1":function(t,e,a){},f5b5:function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"login-container shadow"},[t._m(0),a("div",{staticClass:"body"},[a("el-form",{attrs:{model:t.formData}},[a("el-form-item",{attrs:{label:"请输入注册码"}},[a("el-input",{model:{value:t.formData.license,callback:function(e){t.$set(t.formData,"license",e)},expression:"formData.license"}})],1),a("el-form-item",{attrs:{label:"验证码"}},[a("el-input",{model:{value:t.formData.code,callback:function(e){t.$set(t.formData,"code",e)},expression:"formData.code"}})],1),a("el-form-item",[a("div",{staticClass:"identifybox"},[a("div",{on:{click:t.getCaptcha}},[a("img",{staticStyle:{width:"100px",height:"50px",border:"1px"},attrs:{src:t.formData.captcha}})]),a("el-button",{staticClass:"textbtn",attrs:{type:"text"},on:{click:t.getCaptcha}},[t._v("看不清，换一张")])],1)]),a("el-form-item",[a("el-button",{staticClass:"btn-login",attrs:{type:"primary"},on:{click:t.onSubmit}},[t._v("激活注册码")])],1)],1)],1)])},c=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"ali-center"},[a("img",{staticClass:"logo",attrs:{src:"/static/image/sqldev.png"}}),a("h4",[t._v("企业数据库安全访问系统")])])}],n=a("5530"),s=a("ade3"),o=a("2f62"),r={data:function(){var t=this.$route.query;return{msg:t.msg||"",formData:Object(s["a"])({license:"",captcha:"",captcha_id:"",code:"",max_user:0,level:"",max_instance:0,expire_time:0,expire:""},"code","")}},computed:Object(n["a"])({},Object(o["c"])(["user"])),methods:{getCaptcha:function(){var t=this;this.$api.get("/api/captcha").then((function(e){var a=e.id,i=e.img;t.formData.captcha=i,t.formData.captcha_id=a}))},getLicenseInfo:function(){var t=this;this.$api.get("/api/system/license").then((function(e){t.formData=e,-1==t.formData.expire_time?t.formData.expire="永久":t.formData.expire_time&&(t.formData.expire=dateTime.showTime(1e3*t.formData.expire_time))}))},goCasLogin:function(){this.url&&(window.location.href=this.url)},onSubmit:function(){var t=this;this.$api.post("/api/system/license/register",this.formData).then((function(){t.onSuccess("激活成功"),t.$router.push("/setting/license")}),(function(e){t.onError(e.data?e.data:e)}))}},mounted:function(){this.getCaptcha()}},l=r,m=(a("2da5"),a("0c7c")),f=Object(m["a"])(l,i,c,!1,null,null,null);e["default"]=f.exports}}]);