(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-1e81c4d9"],{"1f82":function(t,e,s){"use strict";e["a"]={name:"ElCol",props:{span:{type:Number,default:24},tag:{type:String,default:"div"},offset:Number,pull:Number,push:Number,xs:[Number,Object],sm:[Number,Object],md:[Number,Object],lg:[Number,Object],xl:[Number,Object]},computed:{gutter(){let t=this.$parent;while(t&&"ElRow"!==t.$options.componentName)t=t.$parent;return t?t.gutter:0}},render(t){let e=[],s={};return this.gutter&&(s.paddingLeft=this.gutter/2+"px",s.paddingRight=s.paddingLeft),["span","offset","pull","push"].forEach(t=>{(this[t]||0===this[t])&&e.push("span"!==t?`el-col-${t}-${this[t]}`:"el-col-"+this[t])}),["xs","sm","md","lg","xl"].forEach(t=>{if("number"===typeof this[t])e.push(`el-col-${t}-${this[t]}`);else if("object"===typeof this[t]){let s=this[t];Object.keys(s).forEach(a=>{e.push("span"!==a?`el-col-${t}-${a}-${s[a]}`:`el-col-${t}-${s[a]}`)})}}),t(this.tag,{class:["el-col",e],style:s},this.$slots.default)}}},"2e0b":function(t,e,s){"use strict";e["a"]={name:"ElRow",componentName:"ElRow",props:{tag:{type:String,default:"div"},gutter:Number,type:String,justify:{type:String,default:"start"},align:{type:String,default:"top"}},computed:{style(){const t={};return this.gutter&&(t.marginLeft=`-${this.gutter/2}px`,t.marginRight=t.marginLeft),t}},render(t){return t(this.tag,{class:["el-row","start"!==this.justify?"is-justify-"+this.justify:"","top"!==this.align?"is-align-"+this.align:"",{"el-row--flex":"flex"===this.type}],style:this.style},this.$slots.default)}}},"7bc8":function(t,e,s){},c8fe:function(t,e,s){"use strict";s.r(e);var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"page-system apps"},[s("el-row",{staticStyle:{"margin-left":"-6px","margin-right":"-6px"},attrs:{type:"flex"}},[s("div",{staticClass:"el-col el-col-8 el-col-xs-12",staticStyle:{"padding-left":"6px","padding-right":"6px"}},[s("div",{staticClass:"demo-color-box bg-info"},[t._v("CPU ")]),s("el-card",{staticClass:"box-card"},[s("div",{staticClass:"text"},[s("div",{staticClass:"item"},[s("span",[t._v("CPU使用:")]),s("div",{staticClass:"bar"},[s("el-progress",{attrs:{"text-inside":!0,"stroke-width":28,percentage:t.round(t.cpu_percent),color:"rgba(142, 113, 199, 0.7)"}})],1)]),s("div",{staticClass:"item"},[s("span",[t._v("CPU:")]),s("div",{staticClass:"bar"},[s("span",{staticStyle:{"font-size":"8px"}},[t._v(t._s(t.cpu.modelName))])])]),s("div",{staticClass:"item"},[s("span",[t._v("核心数:")]),s("div",{staticClass:"bar"},[t._v(" "+t._s(t.cpu.cores)+" ")])]),s("div",{staticClass:"item"})])])],1),s("div",{staticClass:"el-col el-col-8 el-col-xs-12",staticStyle:{"padding-left":"6px","padding-right":"6px"}},[s("div",{staticClass:"demo-color-box bg-warning"},[t._v("内存 ")]),s("el-card",{staticClass:"box-card"},[s("div",{staticClass:"text"},[s("div",{staticClass:"item"},[s("span",[t._v("内存使用:")]),s("div",{staticClass:"bar"},[s("el-progress",{attrs:{"text-inside":!0,"stroke-width":28,percentage:t.round(t.mem.usedPercent),color:"rgba(142, 113, 199, 0.7)"}})],1)]),s("div",{staticClass:"item"},[s("span",[t._v("内存大小:")]),s("div",{staticClass:"bar"},[t._v(" "+t._s(t.round(t.mem.total/1024/1024/1024)+" GB")+" ")])]),s("div",{staticClass:"item"},[s("span",[t._v("已使用内存:")]),s("div",{staticClass:"bar"},[t._v(" "+t._s(t.round(t.mem.used/1024/1024/1024)+" GB")+" ")])]),s("div",{staticClass:"item"},[s("span",[t._v("可用内存:")]),s("div",{staticClass:"bar"},[t._v(" "+t._s(t.round(t.mem.available/1024/1024/1024)+" GB")+" ")])])])])],1),s("div",{staticClass:"el-col el-col-8 el-col-xs-12",staticStyle:{"padding-left":"6px","padding-right":"6px"}},[s("div",{staticClass:"demo-color-box bg-blue"},[t._v("磁盘 ")]),s("el-card",{staticClass:"box-card"},[s("div",{staticClass:"text"},[s("div",{staticClass:"item"},[s("span",[t._v("磁盘使用:")]),s("div",{staticClass:"bar"},[s("el-progress",{attrs:{"text-inside":!0,"stroke-width":28,percentage:t.round(t.disk.usedPercent),color:"rgba(142, 113, 199, 0.7)"}})],1)]),s("div",{staticClass:"item"},[s("span",[t._v("磁盘大小:")]),s("div",{staticClass:"bar"},[t._v(" "+t._s(t.round(t.disk.total/1024/1024/1024)+" GB")+" ")])]),s("div",{staticClass:"item"},[s("span",[t._v("已使用磁盘:")]),s("div",{staticClass:"bar"},[t._v(" "+t._s(t.round(t.disk.used/1024/1024/1024)+" GB")+" ")])]),s("div",{staticClass:"item"},[s("span",[t._v("可用磁盘空间:")]),s("div",{staticClass:"bar"},[t._v(" "+t._s(t.round(t.disk.free/1024/1024/1024)+" GB")+" ")])])])])],1)]),s("el-row",{staticStyle:{"margin-left":"-6px","margin-right":"-6px"},attrs:{type:"flex"}},[s("el-col",{staticClass:"el-col el-col-24 el-col-xs-24",staticStyle:{"padding-left":"6px","padding-right":"6px"}},[s("el-card",{staticClass:"box-card"},[s("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[s("span",[t._v("网络IO")])]),s("div",[s("el-table",{attrs:{sortable:"true",sortBy:"bytesSent",data:t.io_data,size:"small"}},[s("el-table-column",{attrs:{prop:"name",label:"网卡名称"}}),s("el-table-column",{attrs:{prop:"bytesSent",label:"发送字节",formatter:t.dataFormat}}),s("el-table-column",{attrs:{prop:"bytesRecv",label:"接受字节",formatter:t.dataFormat}}),s("el-table-column",{attrs:{prop:"packetsSent",label:"发送数据包",formatter:t.dataFormat}}),s("el-table-column",{attrs:{prop:"packetsRecv",label:"接受数据包",formatter:t.dataFormat}})],1)],1)])],1)],1)],1)},i=[],l=(s("5743"),s("2819")),o=s("2e0b"),r=s("1f82"),n={data:function(){return{h1:null,h2:null,n3:null,h4:null,mem:{usedPercent:0},cpu:{},cpu_percent:0,disk:{usedPercent:0},io_data:[],net_data:[],network:{},query:{start:"",end:"",start2:"",end2:""},stat:{db_count:0,app_count:0,user_count:0,today_count:0},dbTypeStat:{columns:["类型","数量"],rows:[]},dbTypeTitle:{text:"数据源类型"},typeTitle:{text:"当日执行类型统计",default:10},logTimeTitle:{text:"一周访问量"},logStat:{columns:["类型","数量"],rows:[]},logTitle:{text:"当日失败率统计"},logTimeStat:{columns:["时间","访问量"],rows:[]},dbStat:{columns:["数据源","访问量"],rows:[]},dbTitle:{text:"当日数据库使用量"},dbStatSettings:{dataOrder:{label:"访问量",order:"desc"}},exportStat:{columns:["应用","访问量"],rows:[]},appTitle:{text:"当日数据导出量"},userStat:{columns:["用户名","访问量"],rows:[]},typeStat:{columns:["操作","数量"],rows:[]},userTitle:{text:"当日用户访问量"},appStatSettings:{dataOrder:{label:"访问量",order:"desc"}},pubSetting1:{height:"350px",width:"100%"},pubSetting:{height:"400px",width:"100%"},chartData1:{columns:["数据源","次数"],rows:[{"次数":1393,"数据源":"查询库"},{"次数":3530,"数据源":"用户中心"},{"次数":2923,"数据源":"订单库"},{"次数":1723,"数据源":"淘宝api"},{"次数":3792,"数据源":"日志"},{"次数":4593,"数据源":"eslog"}]},chartData:{columns:["日期","访问用户","下单用户","下单率"],rows:[{"日期":"1/1","访问用户":1393,"下单用户":1093,"下单率":.32},{"日期":"1/2","访问用户":3530,"下单用户":3230,"下单率":.26},{"日期":"1/3","访问用户":2923,"下单用户":2623,"下单率":.76},{"日期":"1/4","访问用户":1723,"下单用户":1423,"下单率":.49},{"日期":"1/5","访问用户":3792,"下单用户":3492,"下单率":.323},{"日期":"1/6","访问用户":4593,"下单用户":4293,"下单率":.78}]}}},methods:{stopTimer:function(){console.log("this.h1: ",this.h1),clearTimeout(this.h1),clearTimeout(this.h2),clearTimeout(this.h3),clearTimeout(this.h4)},dataFormat:function(t,e){var s=t[e.property];return s&&s>1024?this.round(s/1024)+" KB":s},do_cpu_stat:function(){var t=this;this.$api.post("/api/system/stat",{type:"cpu"}).then((function(e){e.info.length>0&&(t.cpu=e.info[0])}))},do_cpu_percent:function(){var t=this;clearTimeout(this.h1),this.$api.post("/api/system/stat",{type:"cpu_percent"}).then((function(e){t.cpu_percent=e,t.h1=setTimeout((function(){t.do_cpu_percent()}),1e3)}))},do_mem_stat:function(){var t=this;clearTimeout(this.h2),this.$api.post("/api/system/stat",{type:"mem"}).then((function(e){t.mem=e,t.h2=setTimeout((function(){t.do_mem_stat()}),3e3)}))},do_disk_stat:function(){var t=this;clearTimeout(this.h3),this.$api.post("/api/system/stat",{type:"disk"}).then((function(e){t.disk=e,t.h3=setTimeout((function(){t.do_disk_stat()}),6e4)}))},do_network_stat:function(){var t=this;clearTimeout(this.h4),this.$api.post("/api/system/stat",{type:"network"}).then((function(e){t.io_data=e.io,t.net_data=e.con,t.h4=setTimeout((function(){t.do_network_stat()}),2e3)}))},round:function(t){return Math.round(100*t)/100},init:function(){this.do_cpu_stat(),this.do_cpu_percent(),this.do_mem_stat(),this.do_disk_stat(),this.do_network_stat()}},components:{ElCol:r["a"],ElRow:o["a"],VeLine:l["VeLine"],VeRadar:l["VeRadar"],VeHistogram:l["VeHistogram"],VeScatter:l["VeScatter"],VeMap:l["VeMap"],VeBar:l["VeBar"],VePie:l["VePie"],VeRing:l["VeRing"],VeWaterfall:l["VeWaterfall"],VeFunnel:l["VeFunnel"]},mounted:function(){var t=this;this.$nextTick((function(){t.init()}))},beforeDestroy:function(){console.log("销毁监控定时器"),this.stopTimer()}},c=n,d=(s("ea97"),s("2877")),p=Object(d["a"])(c,a,i,!1,null,null,null);e["default"]=p.exports},ea97:function(t,e,s){"use strict";var a=s("7bc8"),i=s.n(a);i.a}}]);