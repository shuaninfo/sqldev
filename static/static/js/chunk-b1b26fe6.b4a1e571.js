(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-b1b26fe6"],{"1d75":function(t,e,r){"use strict";var n=r("f372"),o=r.n(n);o.a},8019:function(t,e,r){"use strict";r.r(e);var n=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("k-search-table",{ref:"st",attrs:{url:"/api/ssh/filter/page","search-data":t.search},on:{reset:t.resetSearch}},[r("template",{slot:"searchs"},[r("el-form-item",{attrs:{label:"名称",prop:"name"}},[r("el-input",{model:{value:t.search.name,callback:function(e){t.$set(t.search,"name",e)},expression:"search.name"}})],1)],1),r("template",{slot:"buttons"},[r("el-button",{attrs:{size:"mini",type:"primary"},on:{click:t.onNew}},[t._v("新增SSH策略")])],1),r("template",{slot:"columns"},[r("el-table-column",{attrs:{label:"id",prop:"id"}}),r("el-table-column",{attrs:{label:"策略名称",prop:"name"}}),r("el-table-column",{attrs:{prop:"remark",label:"备注"}}),r("el-table-column",{attrs:{prop:"add_user",label:"添加人"}}),r("el-table-column",{attrs:{prop:"created_at",label:"添加时间"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s(t._f("dateTime")(e.row.created_at))+" ")]}}])}),r("el-table-column",{attrs:{label:"操作"},scopedSlots:t._u([{key:"default",fn:function(e){return[r("el-button",{attrs:{title:"edit ssh connection configuration",type:"warning",size:"mini",icon:"el-icon-edit"},on:{click:function(r){return t.onEdit(e.row.id)}}}),r("k-btn-tip",{attrs:{tip:"确定要删除【"+e.row.name+"】SSH策略吗?"},on:{click:function(r){return t.onDel(e.row.id)}}},[r("el-button",{attrs:{title:"删除SSH策略",type:"danger",size:"mini",icon:"el-icon-delete-solid"}})],1)]}}])})],1)],2),r("dialog-edit",{ref:"sshDialog",on:{success:t.refresh}})],1)},o=[],a=(r("ac1f"),r("841c"),function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("el-dialog",{attrs:{title:t.id?"修改SSH策略":"新增SSH策略",visible:t.isShow,width:"740px"},on:{close:t.onHide,"update:visible":function(e){t.isShow=e}}},[r("el-form",{ref:"form",attrs:{model:t.formData,rules:t.formDataRules,"label-width":"100px"}},[r("el-form-item",{attrs:{prop:"name",label:"名称"}},[r("el-input",{attrs:{placeholder:"",clearable:""},model:{value:t.formData.name,callback:function(e){t.$set(t.formData,"name",e)},expression:"formData.name"}})],1),r("el-form-item",{attrs:{prop:"info",label:"备注"}},[r("el-input",{attrs:{placeholder:"",clearable:""},model:{value:t.formData.remark,callback:function(e){t.$set(t.formData,"remark",e)},expression:"formData.remark"}})],1),r("el-form-item",{attrs:{label:"策略组"}},[r("el-table",{staticStyle:{width:"100%"},attrs:{data:t.filterList,size:"mini"}},[r("el-table-column",{attrs:{label:"过滤规则"},scopedSlots:t._u([{key:"default",fn:function(e){var n=e.row;e.$index;return[r("el-input",{attrs:{size:"mini"},model:{value:n["command"],callback:function(e){t.$set(n,"command",e)},expression:"row['command']"}})]}}])}),r("el-table-column",{attrs:{prop:"value",label:"提示"},scopedSlots:t._u([{key:"default",fn:function(e){var n=e.row;e.$index;return[r("el-input",{attrs:{size:"mini"},model:{value:n["msg"],callback:function(e){t.$set(n,"msg",e)},expression:"row['msg']"}})]}}])}),r("el-table-column",{attrs:{prop:"value",label:"启用"},scopedSlots:t._u([{key:"default",fn:function(e){var n=e.row;e.$index;return[r("el-switch",{attrs:{size:"mini","active-color":"#13ce66","inactive-color":"#ff4949","active-value":2,"inactive-value":4},model:{value:n["enable"],callback:function(e){t.$set(n,"enable",e)},expression:"row['enable']"}})]}}])}),r("el-table-column",{attrs:{fixed:"right",label:"操作",width:"120"},scopedSlots:t._u([{key:"default",fn:function(e){return[r("el-button",{attrs:{type:"text",size:"small"},nativeOn:{click:function(r){return r.preventDefault(),t.delFilter(e.$index,t.paramList)}}},[t._v(" 移除 ")])]}}])})],1)],1)],1),r("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[r("el-button",{on:{click:t.addFilter}},[t._v("增加规则")]),r("el-button",{on:{click:t.onHide}},[t._v("取消")]),r("el-button",{attrs:{type:"primary"},on:{click:t.onSubmit}},[t._v("确定 ")])],1)],1)}),i=[],l=(r("a434"),r("d3b7"),r("e762"),r("2ef0")),s={data:function(){return{id:0,isShow:!1,formData:{},filterList:[],formDataRules:{name:[{required:!0,message:"请输入策略名称"}]}}},props:{},watch:{},computed:{},methods:{reset:function(){return{id:0,name:"",formData:{},filterList:[]}},show:function(t){var e=this;this.reset(),t?this.$api.ssh.getFilter(t).then((function(r){e.id=t,e.formData=r,e.filterList=r.filters?r.filters:[],e.isShow=!0})):(this.id="",this.isShow=!0)},addFilter:function(){var t={command:"",msg:"禁用该命令",enable:2};this.filterList.push(t)},delFilter:function(t){this.filterList.splice(t,1)},onHide:function(){this.id=0,this.formData={},this.filterList=[],this.isShow=!1},onSubmit:function(){var t=this;this.$refs.form.validate((function(e){if(e){var r=l["clone"](t.formData);t.filterList&&t.filterList.length>0?r.filters=JSON.stringify(t.filterList):r.filters="[]",t.$api.ssh.addFilter(r).then((function(e){t.isShow=!1,t.onSuccess("提交成功"),t.$emit("success")}),(function(e){var r="参数错误！";"301"!=e.result&&(r=e.data),t.onError(r)})).finally((function(){t.loading=!1,t.onHide()}))}}))}},mounted:function(){},components:{}},c=s,u=(r("1d75"),r("0c7c")),f=Object(u["a"])(c,a,i,!1,null,null,null),d=f.exports,m={components:{DialogEdit:d},name:"ViewSsh",props:["ID","name","user"],data:function(){return{search:{name:"",state:""},termVisible:!1,selectedRow:{},dialogInfoVisible:!1,formLabelWidth:"120px",dialogFormVisible:!1,total:0,page:1,size:10,tableData:[],q:"",form:{},info:{}}},mounted:function(){},created:function(){},methods:{onNew:function(){this.$refs.sshDialog.show()},onEdit:function(t){this.$refs.sshDialog.show(t)},onDel:function(t){var e=this;this.$api.ssh.delFilter(t).then((function(){e.refresh()}))},resetSearch:function(){console.log("========resetSearch========="),this.search={}},refresh:function(){this.$refs.st.search()},doClose:function(t){this.termVisible=t}}},h=m,p=Object(u["a"])(h,n,o,!1,null,null,null);e["default"]=p.exports},e762:function(t,e,r){"use strict";r.d(e,"a",(function(){return N}));const n="3.6.0",o=n,a="function"===typeof atob,i="function"===typeof btoa,l="function"===typeof Buffer,s="function"===typeof TextDecoder?new TextDecoder:void 0,c="function"===typeof TextEncoder?new TextEncoder:void 0,u="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",f=[...u],d=(t=>{let e={};return t.forEach((t,r)=>e[t]=r),e})(f),m=/^(?:[A-Za-z\d+\/]{4})*?(?:[A-Za-z\d+\/]{2}(?:==)?|[A-Za-z\d+\/]{3}=?)?$/,h=String.fromCharCode.bind(String),p="function"===typeof Uint8Array.from?Uint8Array.from.bind(Uint8Array):(t,e=(t=>t))=>new Uint8Array(Array.prototype.slice.call(t,0).map(e)),b=t=>t.replace(/[+\/]/g,t=>"+"==t?"-":"_").replace(/=+$/m,""),g=t=>t.replace(/[^A-Za-z0-9\+\/]/g,""),v=t=>{let e,r,n,o,a="";const i=t.length%3;for(let l=0;l<t.length;){if((r=t.charCodeAt(l++))>255||(n=t.charCodeAt(l++))>255||(o=t.charCodeAt(l++))>255)throw new TypeError("invalid character found");e=r<<16|n<<8|o,a+=f[e>>18&63]+f[e>>12&63]+f[e>>6&63]+f[63&e]}return i?a.slice(0,i-3)+"===".substring(i):a},w=i?t=>btoa(t):l?t=>Buffer.from(t,"binary").toString("base64"):v,y=l?t=>Buffer.from(t).toString("base64"):t=>{const e=4096;let r=[];for(let n=0,o=t.length;n<o;n+=e)r.push(h.apply(null,t.subarray(n,n+e)));return w(r.join(""))},S=(t,e=!1)=>e?b(y(t)):y(t),x=t=>{if(t.length<2){var e=t.charCodeAt(0);return e<128?t:e<2048?h(192|e>>>6)+h(128|63&e):h(224|e>>>12&15)+h(128|e>>>6&63)+h(128|63&e)}e=65536+1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320);return h(240|e>>>18&7)+h(128|e>>>12&63)+h(128|e>>>6&63)+h(128|63&e)},A=/[\uD800-\uDBFF][\uDC00-\uDFFFF]|[^\x00-\x7F]/g,D=t=>t.replace(A,x),k=l?t=>Buffer.from(t,"utf8").toString("base64"):c?t=>y(c.encode(t)):t=>w(D(t)),_=(t,e=!1)=>e?b(k(t)):k(t),C=t=>_(t,!0),F=/[\xC0-\xDF][\x80-\xBF]|[\xE0-\xEF][\x80-\xBF]{2}|[\xF0-\xF7][\x80-\xBF]{3}/g,$=t=>{switch(t.length){case 4:var e=(7&t.charCodeAt(0))<<18|(63&t.charCodeAt(1))<<12|(63&t.charCodeAt(2))<<6|63&t.charCodeAt(3),r=e-65536;return h(55296+(r>>>10))+h(56320+(1023&r));case 3:return h((15&t.charCodeAt(0))<<12|(63&t.charCodeAt(1))<<6|63&t.charCodeAt(2));default:return h((31&t.charCodeAt(0))<<6|63&t.charCodeAt(1))}},B=t=>t.replace(F,$),z=t=>{if(t=t.replace(/\s+/g,""),!m.test(t))throw new TypeError("malformed base64.");t+="==".slice(2-(3&t.length));let e,r,n,o="";for(let a=0;a<t.length;)e=d[t.charAt(a++)]<<18|d[t.charAt(a++)]<<12|(r=d[t.charAt(a++)])<<6|(n=d[t.charAt(a++)]),o+=64===r?h(e>>16&255):64===n?h(e>>16&255,e>>8&255):h(e>>16&255,e>>8&255,255&e);return o},L=a?t=>atob(g(t)):l?t=>Buffer.from(t,"base64").toString("binary"):z,U=l?t=>p(Buffer.from(t,"base64")):t=>p(L(t),t=>t.charCodeAt(0)),E=t=>U(H(t)),R=l?t=>Buffer.from(t,"base64").toString("utf8"):s?t=>s.decode(U(t)):t=>B(L(t)),H=t=>g(t.replace(/[-_]/g,t=>"-"==t?"+":"/")),O=t=>R(H(t)),T=t=>{if("string"!==typeof t)return!1;const e=t.replace(/\s+/g,"").replace(/=+$/,"");return!/[^\s0-9a-zA-Z\+/]/.test(e)||!/[^\s0-9a-zA-Z\-_]/.test(e)},V=t=>({value:t,enumerable:!1,writable:!0,configurable:!0}),I=function(){const t=(t,e)=>Object.defineProperty(String.prototype,t,V(e));t("fromBase64",(function(){return O(this)})),t("toBase64",(function(t){return _(this,t)})),t("toBase64URI",(function(){return _(this,!0)})),t("toBase64URL",(function(){return _(this,!0)})),t("toUint8Array",(function(){return E(this)}))},Z=function(){const t=(t,e)=>Object.defineProperty(Uint8Array.prototype,t,V(e));t("toBase64",(function(t){return S(this,t)})),t("toBase64URI",(function(){return S(this,!0)})),t("toBase64URL",(function(){return S(this,!0)}))},j=()=>{I(),Z()},N={version:n,VERSION:o,atob:L,atobPolyfill:z,btoa:w,btoaPolyfill:v,fromBase64:O,toBase64:_,encode:_,encodeURI:C,encodeURL:C,utob:D,btou:B,decode:O,isValid:T,fromUint8Array:S,toUint8Array:E,extendString:I,extendUint8Array:Z,extendBuiltins:j}},f372:function(t,e,r){}}]);