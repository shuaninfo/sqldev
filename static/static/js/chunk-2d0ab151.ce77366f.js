(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0ab151"],{1480:function(e,t,o){"use strict";o.r(t);var n=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}]})},i=[],a=(o("c975"),o("ac1f"),o("5319"),o("5530")),c=(o("365c"),o("2f62")),r={data:function(){var e=this.$route.params;return{loading:!0,ticket:e.ticket}},computed:Object(a["a"])({},Object(c["c"])(["user"])),methods:{},mounted:function(){var e=this;this.ticket?this.$api.post("/api/login/cas",{ticket:this.ticket}).then((function(t){e.$store.commit("user",t),window.localStorage.setItem("token",t.token),window.localStorage.setItem("user",JSON.stringify(t)),e.onSuccess("登录成功");var o=window.localStorage.getItem("beforeUrl");console.log("beforeUrl",o),o&&-1==o.indexOf("login")?window.location.href=o:e.$router.push("/"),e.loading=!1})).catch((function(t){console.log("cas login:",t),e.$message({showClose:!0,duration:2e3,type:"warning",message:t.data}),setTimeout((function(){e.loading=!1,e.$router.replace("/login")}),3e3)})):this.$router.replace("/login")}},s=r,l=o("2877"),u=Object(l["a"])(s,n,i,!1,null,null,null);t["default"]=u.exports}}]);